{
    "openapi": "3.0.3",
    "servers": [
        {
            "url": "http://143.198.58.1",
            "description": "Production Server (live data)"
        }
    ],
    "info": {
        "title": "Asset Registry API",
        "version": "1.0.0",
        "description": "This is the AgStack asset registry API. It is to utilize the AgStack Asset Registry service.",
        "contact": {
            "email": "mhamza.141097@gmail.com"
        },
        ,
        "paths": {
            "/fetch-field/89d864f50bb864fb79fb5672f51da53991bc92e12c61f9222d5e35cd5ad52c0c": {
                "get": {
                    "summary": "Fetch a Field (public)",
                    "description": "Received in query param a geo_id, fetch the relevant geo JSON",
                    "parameters": [
                        {
                            "name": "s2_index",
                            "in": "query",
                            "schema": {
                                "type": "number",
                                "example": 12
                            }
                        }
                    ],
                    "responses": {
                        "200": {
                            "description": "The JSON Geo Data for the field"
                        },
                        "404": {
                            "description": "Field not found, invalid Geo Id."
                        }
                    }
                }
            },
            "/fetch-field-wkt/752731c512e0fcb3bd7472cb2b89cdee859eefa6b0c34713e2050b109c2845ee": {
                "get": {
                    "summary": "Fetch a Field WKT (public)",
                    "description": "Received in query param a geo_id, fetch the relevant field WKT",
                    "responses": {
                        "200": {
                            "description": "The field WKT"
                        },
                        "404": {
                            "description": "Field not found, invalid Geo Id."
                        }
                    }
                }
            },
            "/": {
                "post": {
                    "summary": "Home (private)",
                    "description": "Asset Registry Home",
                    "responses": {
                        "200": {
                            "description": "status: 200"
                        },
                        "400": {
                            "description": "Asset Registry error"
                        },
                        "401": {
                            "description": "Authentication Error!"
                        }
                    }
                }
            },
            "/register-field-boundary": {
                "post": {
                    "summary": "Register a Field Boundary (private)",
                    "description": "Register a field boundary (polygon) against a Geo Id, provided WKT",
                    "requestBody": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "s2_index": {
                                            "type": "string",
                                            "example": "8,13"
                                        },
                                        "wkt": {
                                            "type": "string",
                                            "example": "POLYGON ((-93.69805256358295 41.9757745318825, -93.69249086165937 41.97576056598778, -93.69245431117128 41.96883250535657, -93.69804142643369 41.97220658289061, -93.69805256358295 41.9757745318825))"
                                        }
                                    }
                                },
                                "example": {
                                    "s2_index": "8, 13",
                                    "wkt": "POLYGON ((-93.69805256358295 41.9757745318825, -93.69249086165937 41.97576056598778, -93.69245431117128 41.96883250535657, -93.69804142643369 41.97220658289061, -93.69805256358295 41.9757745318825))"
                                }
                            }
                        }
                    },
                    "responses": {
                        "200": {
                            "description": "Registered Field Boundary Data"
                        },
                        "401": {
                            "description": "Need to Login."
                        }
                    }
                }
            },
            "/fetch-overlapping-fields": {
                "get": {
                    "summary": "Fetch Overlapping Fields (private)",
                    "description": "Fetch the overlapping fields for a certain threshold, returning the fieldâ€™s geo json.",
                    "requestBody": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "domain": {
                                            "type": "string",
                                            "example": "test.com"
                                        },
                                        "resolution_level": {
                                            "type": "number",
                                            "example": 13
                                        },
                                        "threshold": {
                                            "type": "number",
                                            "example": 40
                                        },
                                        "wkt": {
                                            "type": "string",
                                            "example": "POLYGON((74.373885630991 31.47708528231105,74.37425041141702 31.476426474392063,74.37634253444864 31.47703038182828,74.37715792598917 31.477405534485314,74.3768575185795 31.478055185529357,74.373885630991 31.47708528231105))"
                                        }
                                    }
                                },
                                "example": {
                                    "domain": "test.com",
                                    "resolution_level": 13,
                                    "threshold": 40,
                                    "wkt": "POLYGON((74.373885630991 31.47708528231105,74.37425041141702 31.476426474392063,74.37634253444864 31.47703038182828,74.37715792598917 31.477405534485314,74.3768575185795 31.478055185529357,74.373885630991 31.47708528231105))"
                                }
                            }
                        }
                    },
                    "responses": {
                        "200": {
                            "description": "Geo Ids fulfilling the overlapping criteria"
                        },
                        "401": {
                            "description": "Need to Login."
                        }
                    }
                }
            },
            "/fetch-fields-for-a-point": {
                "post": {
                    "summary": "Fetch Fields for a Point (private)",
                    "description": "Fetch all the fields containing the point",
                    "requestBody": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "latitude": {
                                            "type": "number",
                                            "example": 31.476859704055347
                                        },
                                        "longitude": {
                                            "type": "number",
                                            "example": 74.37447591413982
                                        },
                                        "s2_index": {
                                            "type": "string",
                                            "example": 815
                                        },
                                        "domain": {
                                            "type": "string",
                                            "example": "test.com"
                                        },
                                    }
                                },
                                "example": {
                                    "latitude": 31.476859704055347,
                                    "longitude": 74.37447591413982,
                                    "s2_index": 815,
                                    "domain": "test.com"
                                }
                            }
                        }
                    },
                    "responses": {
                        "200": {
                            "description": "Fetched Fields for the point"
                        },
                        "401": {
                            "description": "Need to Login."
                        }
                    }
                }
            },
            "/get-percentage-overlap-two-fields": {
                "post": {
                    "summary": "Get Percentage Overlap of two Geo Ids (public)",
                    "description": "Passed in 2 Geo Ids, determine what is the percentage overlap of the two fields",
                    "requestBody": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "geo_id_field_1": {
                                            "type": "string",
                                            "example": "7af4d1ddb9fb20e5cfe4544afab435c74e82a76024c1b8abaf9dd33163fc984b"
                                        },
                                        "geo_id_field_2": {
                                            "type": "string",
                                            "example": "7b02942a48b934ed20854e9e4339be84c241c0b2770739b65c334649921a48ca"
                                        }
                                    }
                                },
                                "example": {
                                    "geo_id_field_1": "7af4d1ddb9fb20e5cfe4544afab435c74e82a76024c1b8abaf9dd33163fc984b",
                                    "geo_id_field_2": "7b02942a48b934ed20854e9e4339be84c241c0b2770739b65c334649921a48ca"
                                }
                            }
                        }
                    },
                    "responses": {
                        "200": {
                            "description": "The overlap percentage value"
                        }
                    }
                }
            },
            "/fetch-bounding-box-fields": {
                "post": {
                    "summary": "Fetch Bounding box Fields (private)",
                    "description": "Fetch the fields intersecting the Bounding Box",
                    "requestBody": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "latitudes": {
                                            "type": "string",
                                            "example": "31.477779423633137 31.478602920901388 31.474320655972566 31.47543699178076"
                                        },
                                        "longitudes": {
                                            "type": "string",
                                            "example": "74.3729835582561 74.38032208212084 74.37404571302599 74.38112674482531"
                                        },
                                        "s2_index": {
                                            "type": "string",
                                            "example": "8, 15"
                                        }
                                    }
                                },
                                "example": {
                                    "latitudes": "31.477779423633137 31.478602920901388 31.474320655972566 31.47543699178076",
                                    "longitudes": "74.3729835582561 74.38032208212084 74.37404571302599 74.38112674482531",
                                    "s2_index": "8, 15"
                                }
                            }
                        }
                    },
                    "responses": {
                        "200": {
                            "description": "Fetched Fields for the Bounding Box"
                        },
                        "401": {
                            "description": "Need to Login."
                        }
                    }
                }
            },
            "/logout": {
                "get": {
                    "summary": "Logout (private)",
                    "description": "Logs out of the Asset Registry service",
                    "operationId": "logoutPrivate",
                    "responses": {
                        "200": {
                            "description": "Logged out successfully."
                        },
                        "401": {
                            "description": "Need to Login."
                        }
                    }
                }
            },
            "/domains": {
                "get": {
                    "summary": "Get all Domains (public)",
                    "description": "Get all the registered Domains in the User Registry",
                    "responses": {
                        "200": {
                            "description": "The fetched Domains from User Registry"
                        }
                    }
                }
            }
        },
        "tags": []
    }
